<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
	<title>김예은 Portfolio</title>
	<style type="text/css">
		body{
			font-family: 'Noto Sans KR', sans-serif;
		}
		.wrap{
			display: flex;
			align-items: center;
			justify-content: center;
		}
		a{
			color: black;
		}
		a:hover {
			color: #FAC3BE;
			background-color: transparent;
			text-decoration: none;
		}
		#jumbotron{
			box-shadow: 0 5px 5px #888;
		}
		.container-size{
			width: 1000px;
			margin-left: 20%;
			margin-right: 20%;
		}
		#user_info{
			position: absolute;
			right: 350px;
			top: 230px;
		}
		ul{
			margin-top: 10px;
		}
		h6{
			color: #4b8ecc;
		}
		footer {
			width: 100%;
			height: 200px;
			clear: both;
			background: #bfd3d1;
		}
	</style>
</head>
<body>
	<header>
		<div>
	    	<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top align-items-center" style="margin: 0px; opacity: 85%">
			  <a class="navbar-brand align-items-center" href="#">Portfolio</a>
			  <div class="collapse navbar-collapse" id="navbarSupportedContent">
			    <ul class="navbar-nav mr-auto" style="margin-top: 0px">
			      <li class="nav-item">
			        <a class="nav-link" href="main_page.html">소개 <span class="sr-only">(current)</span></a>
			      </li>
			      <li class="nav-item">
			        <a class="nav-link" href="project_page.html">Project</a>
			      </li>
			    </ul>
			  </div>
			</nav>
		</div>
	</header>


	<div class="container-size" style="margin-top: 200px;">
		<h2><a href="https://github.com/sesame86/agricultural_products_price_forecast">농산물 가격 예측 분석🥗</a></h2>
		<p>2020/09~2020/12</p>
		<p>
			<a href="https://github.com/sesame86/agricultural_products_price_forecast"><img src="image/git_logo.png"> GitHub</a>
		</p>
		<hr>
		<p>LSTM을 이용한 농산물 가격 예측</p>

		<div id="jumbotron" class="jumbotron p-4 p-md-5 text-black rounded bg-light" style=" background: url('image/arg_main.PNG')no-repeat center; background-size: contain; height: 400px;margin-top: 15px">
		</div>
		<hr>
		<h3 style="margin-top: 20px">문제 인식</h3>
		<p>농산물의 가격은 비농산물의 가격과 비교해 높은 변동성을 가지고 있습니다. 농산물의 생산지는 기상환경 때문에 재배지가 한 곳에 집중되어 있는 상품이 많습니다. 대규모 재배 단지에 집중호우나 저온현상, 가뭄 등의 자연재해가 발생하면 농산물의 생산량에 타격을 받아 가격 변동이 있을 수 있습니다. 이러한 점은 소비자 입장에서는 구매의 부담을, 생산자 입장에서는 수입의 불안정성을 유발합니다. 이러한 문제점을 해결하기 위해 농산물 물가 예측 프로젝트를 주제로 선정하여 진행했습니다.</p>

		<h3 style="margin-top: 20px">분석 주제</h3>
		<ul>
			<li>농산물의 생산량과 날씨는 상관관계를 가지는가</li>
			<li>농산물의 가격에 상관관계를 미치는 변수는 무엇인가</li>
			<li>농산물의 가격 예측</li>
		</ul>


		<hr>
		<div style="background-color: #dae6e5">
			<h3 style="margin-top: 20px">프로젝트 구조</h3>
			<ol>
				<li>EDA를 통한 변수 선택</li>

				<li>Prophet분석</li>
				<li>LSTM분석(순환신경망 모델)</li>
			</ol>
		<hr>
		<h3>사용한 데이터</h3>
		<ul>
			<li><a href="https://www.kamis.or.kr/customer/main/main.do">kamis(open api)</a></li>
			<ul>
				<li>가격 데이터 : 일별 가격데이터</li>
				<li>유통비용 데이터 : 연도별 가격 데이터</li>
			</ul>
			<li><a href="https://www.kati.net/statistics/periodPerformance.do">농식품수출정보(csv)</a></li>
			<ul>
				<li>수입수출 데이터(kg, $): 월별 데이터</li>
			</ul>
			<li><a href="https://data.kma.go.kr/data/grnd/selectAsosRltmList.do?pgmNo=36">기상청 기상자료개방포털(csv)</a></li>
			<ul>
				<li>날씨 데이터 : 일별 날씨 데이터</li>
			</ul>
			<li><a href="https://oasis.krei.re.kr/basicInfo/wholesale/qty.do">농업관측 통계정보시스템(OASIS)(csv)</a></li>
			<ul>
				<li>공급량 데이터(kg) : 일별 데이터</li>
			</ul>
			<li><a href="https://kosis.kr/statisticsList/statisticsListIndex.do?menuId=M_01_01&vwcd=MT_ZTITLE&parmTabId=M_01_01&statId=1998024&themaId=K#K1_11.3">국가통계포털(csv)</a></li>
			<ul>
				<li>생산량 데이터(t) : 연도별 데이터</li>
				<li>소비자 물가지수 : 월별 데이터</li>
			</ul>
		</ul>
	</div>

		<hr>
		<h3 style="margin-top: 20px">1. EDA를 통한 변수 선택</h3>
		<ul>
			<li>날씨와 생산량의 상관관계</li>
			<img src="image/output_temp.PNG" style="width: 600px"><br><br>
			<h6>사과와 대파는 날씨와 상관관계를 보였지만, 양파는 날씨와 상관관계를 보이지 않았습니다.</h6><br>
			<ul>
				<li>사과 🍎</li>
				<img src="image/apple_cor_plot.PNG" style="width: 1200px">
				<li>양파 🧅</li>
				<img src="image/onion_cor_plot.PNG" style="width: 1200px">
				<img src="image/onion_export_cor.png" style="width: 150px">
				<li>대파 🥬</li>
				<img src="image/greenonion_cor_plot.PNG" style="width: 800px">
			</ul>
			<h4>이용할 변수</h4>
			<ul>
				<li>사과 🍎</li>
				<ul>
					<li>최저기온</li>
					<li>평균기온</li>
					<li>최고기온</li>
					<li>유통비용</li>
					<li>생산량</li>
				</ul>
				<li>양파 🧅</li>
				<ul>
					<li>유통비용</li>
					<li>수입(중량)</li>
					<li>수입(금액)</li>
					<li>유통비용</li>
					<li>생산량</li>
				</ul>
				<li>대파 🥬</li>
				<ul>
					<li>최저기온</li>
					<li>평균기온</li>
					<li>최고기온</li>
					<li>생산량</li>
				</ul>
			</ul>
		</ul>

		<div style="background-color: #dae6e5">
			<h3 style="margin-top: 20px">2. Prophet분석</h3>
			<ul>
				<h6>- Weekly에서 토요일과 일요일의 가격이 낮은 것은 가격이 낮은 게 아니라 토요일과 일요일은 거래를 하지 않는 날이기 때문입니다.</h6>
				<li>사과 🍎</li>
				<img src="image/apple_prophet.png" style="width: 400px">
				<ul>
					<li>사과는 2012년에 가격이 가장 높았고, 1년 중 10월에 가격이 가장 높은 것을 알 수 있습니다.</li>
					<li>사과의 가격이 2012년에 가장 높았던 이유는 장기저장에 영향으로 출하량은 꾸준히 감소하고 있으나, 제수용품 등의 소비는 일정하여 오름세를 보였기 때문이라고 kamis의 정보를 이용하여 추측해볼 수 있습니다.</li>
					<li>1년 중 10월에 가장 가격이 높은 이유는 추석 성수기를 맞아 출하량이 늘었기 때문으로 추측해볼 수 있습니다.</li>
				</ul>
				<li>양파 🧅</li>
				<img src="image/onion_prophet.png" style="width: 400px">
				<ul>
					<li>양파의 가격은 연도마다 변동이 컸고, 1년 중에는 상반기에 가격이 더 높은 것을 알 수 있습니다.</li>
					<li>양파의 가격이 상반기에 더 높은 이유는 양파의 수확기가 6,7월 달이기 때문에 산지 저장 양파의 보관 물량이 감소하는 가운데 장기 보관에 따른 상승과 산지 출하량 조절로 오름세로 거래된다고 kamis의 정보를 이용하여 추측해 볼 수 있습니다.</li>
				</ul>
				<li>대파 🥬</li>
				<img src="image/greenonion_prophet.png" style="width: 400px">
				<ul>
					<li>대파의 가격은 연도마다 변동이 컸고, 1년 중 10월에 가장 가격이 높은 것을 알 수 있습니다.</li>
					<li>대파의 가격이 10월에 높은 이유는 상품성이 좋은 강원지역의 고랭지 대파가 본격적으로 출하되고 있는 가운데, 고온 및 잦은 비로 인해 출하물량이 감소하여 오름세를 형성한 것을 kamis의 정보를 이용하여 추측해 볼 수 있습니다.</li>
				</ul>
			</ul>
		</div>
		<h3 style="margin-top: 20px">3. LSTM분석</h3>
		<h5>- 30일 단위로 학습 데이터가 들어간 후 그 다음날을 예측</h5><br>
		<h4><b>분석 결과</b></h4>
		<p>왼쪽 plot은 모델을 돌리고 학습된 output의 loss 값을 시각화한 그래프입니다. epoch 마다 validation loss가 감소하는 것을 확인할 수 있는데, 이는 모델이 잘 설계되어 훈련되었다는 것을 뜻합니다.</p>
		<p>오른쪽 plot은 test 데이터를 학습시켜 예측한 값으로 <b><font style="color: #4374D9;"> 파란색 선</font></b>이 실제 가격 데이터이고, <b><font style="color: orange;"> 주황색</font></b> 선이 예측 가격 데이터입니다.</p>
		<ul>
			<li>사과 🍎</li>
			<img src="image/apple_lstm.PNG" style="width: 700px">
			<img src="image/apple_score.png" style="width: 300px; border: 3px solid;">
			<ul>
				<li>시각화해서 확인해보면 예측이 뒷부분으로 갈수록 어긋나는 부분이 있지만 나머지 부분에서는 가격의 트렌드를 따라가는 것을 확인할 수 있습니다.</li>
			</ul>
			<li>양파 🧅</li>
			<img src="image/onion_lstm.PNG" style="width: 700px">
			<img src="image/onion_score.png" style="width: 300px; border: 3px solid;">
			<ul>
				<li>시각화해서 확인해보면 예측이 어느 한 부분에서 좀 어긋난 부분이 있지만 나머지 부분에서는 가격의 트렌드를 따라가는 것을 확인할 수 있습니다.</li>
			</ul>
			<li>대파 🥬</li>
			<img src="image/greenonion_lstm.PNG" style="width: 700px">
			<img src="image/greenonion_score.png" style="width: 300px; border: 3px solid;">
		</ul>
		<hr>
		<h3 style="margin-top: 20px">결론</h3>
		<p>LSTM을 이용한 시계열 예측 결과 예측 값이 실제 값의 트렌드를 따라가는 경향을 보이지만, 현재 데이터 셋의 변수 데이터가 부족하여 예측 범위가 길지 않고 정확성이 떨어졌습니다. 농산물의 가격에 영향을 주는 다른 변수들을 추가하면 훨씬 훌륭한 결과를 낼 수 있을 것입니다.</p>
	</div>
	<div class="wrap">
		<footer>
			<div class="wrap" style="margin-top: 70px">
				<a href="https://github.com/sesame86/my_portfolio"><img src="image/sesame.png" style="width: 30px"></a>
				
			</div>
			<div class="wrap">
				<h6 style="padding-top: 20px">made by <a href="https://github.com/sesame86/my_portfolio">&nbsp;Sesame</a></h6>
			</div>
		</footer>
	</div>
</body>
</html>